<div class="breadcrumb">
  <h1>Indicateurs</h1>
  <ul>
      <li><a href="">Gestion des Comp√©tences</a></li>
      <li>Indicateurs</li>
  </ul>
</div>

<div class="separator-breadcrumb border-top"></div>

<!-- ADD BUTTON -->
<div class="row mb-3">
  <div class="col-md-12 mb-3">
      <button class="btn btn-primary float-right" (click)="createIndicateur()">‚ûï Ajouter un Indicateur</button>
  </div>
</div>

<!-- INDICATEUR TABLE -->
<div class="row">
  <div class="col-md-12">
      <div class="card o-hidden">
          <ngx-datatable *ngIf="indicateurs?.length > 0" 
              class="material fullscreen" 
              style="box-shadow: none"
              [style.height]="60*indicateurs.length+60+'px'"
              [columnMode]="'force'"
              [headerHeight]="50" 
              [footerHeight]="0" 
              [rowHeight]="60" 
              [scrollbarV]="true" 
              [scrollbarH]="true" 
              [rows]="indicateurs">
              
              <!-- Title Column -->
              <ngx-datatable-column name="Titre" prop="title">
                  <ng-template ngx-datatable-header-template>
                      Titre
                  </ng-template>
                  <ng-template ngx-datatable-cell-template let-row="row">
                      {{ row.title }}
                  </ng-template>
              </ngx-datatable-column>

              <!-- Description Column -->
              <ngx-datatable-column name="Description" prop="description">
                  <ng-template ngx-datatable-header-template>
                      Description
                  </ng-template>
                  <ng-template ngx-datatable-cell-template let-row="row">
                      {{ row.description || 'Aucune description' }}
                  </ng-template>
              </ngx-datatable-column>

              <!-- Actions Column -->
              <ngx-datatable-column name="Actions" [width]="250">
                  <ng-template ngx-datatable-header-template>
                      Actions
                  </ng-template>
                  <ng-template ngx-datatable-cell-template let-row="row">
                      <button class="btn btn-outline-warning m-1" (click)="editIndicateur(row.id)">‚úèÔ∏è Modifier</button>
                      <button class="btn btn-outline-info m-1" (click)="showCompetences(row.id)">üìÇ Comp√©tence</button>
                  </ng-template>
              </ngx-datatable-column>
          </ngx-datatable>
      </div>

      <!-- Show message when no data -->
      <div *ngIf="indicateurs?.length === 0" class="text-center p-4">
          <p class="text-muted">‚ö†Ô∏è Aucun indicateur trouv√©.</p>
      </div>
  </div>
</div>